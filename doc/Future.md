# Future Pakrypt

This document outlines some of the future plans for Pakrypt.

* Enable pressing return in the search bar to activate a "default action" for the top tile in search results. This is somewhat challenging for the case of the unlock tile, where the default action should be to focus the passphrase field. However, the structures available at the time the return key is detected and pressed do not hold reference to the component to focus, so some larger restructuring will be needed to ensure the handoff of focus can occur cleanly with react.
* Enable a way for all users to use an online storage mechanisms to save their paks. The major hurdles are twofold. Firstly, code wise, some architectural restructuring will be necessary to expand state tracking to be aware of a separate online service. A current, hidden debug feature enables this by adding extra encrypted local variables to the Pakman objects that it stores in local storage, but the implementation is very rough and not ready for users. Secondly, some data flow will need to be designed to make sure it's not possible to lose data in the scheme while modifying from multiple devices (e.g. prevent two devices from overwriting each others edits or allow graceful passphrase change to propagate to several devices).
* The setQuery function used in the app to update the search bar can be expanded (by adding a new function) to set the query based on the entry that was just saved. It could, for example, search via the uuid of the item saved which will cause just that one item to show up (or perhaps some more complicated search syntax can conjoin searches).
* Look into dynamically setting the theme color (i.e. the one present in manifest.json) based on the selected theme. See https://stackoverflow.com/questions/57456779/change-theme-color-when-switching-to-dark-mode for a question about how to do it.
* On mobile Firefox the behavior of file downloads is strange in that it does not add a file name to the downloaded file. Testing a more flexible implementation with the FileSaver.js library did not produce a viable solution. It would be good for this to be able to export/download files with names.
